# 開発時のログ活用ガイド

## 🚀 ログを活用した開発フローの確立

開発中は常にデバッグログを監視しながら実装を進め、問題の早期発見と品質向上を図ります。

## 📋 開発時の標準手順

### 1. **開発環境セットアップ**
```bash
# 詳細ログレベルで開発
export TUI_DEBUG_LEVEL=TRACE

# ログファイルをリアルタイム監視
tail -f tui_debug.log &

# TUI起動
uv run python s_style_agent/ui/trace_viewer.py
```

### 2. **機能実装時のログ確認ポイント**

#### 🔧 **新機能追加時**
- 初期化ログの確認
- 各メソッド呼び出しの追跡
- エラーハンドリングの動作確認

#### 🐛 **バグ修正時**
- エラートレースバックの詳細確認
- 実行パスの追跡
- 状態変更の記録確認

#### ⚡ **パフォーマンス最適化時**
- 🐌マークの重い処理特定
- 実行時間測定
- メモリ使用量監視

### 3. **実装確認のチェックリスト**

#### ✅ **UI操作確認**
- [ ] キーイベントが正しくログ記録される
- [ ] UI状態変更が追跡される
- [ ] エラー時の適切なログ出力

#### ✅ **S式評価確認**
- [ ] パース→評価→結果の各段階がログ記録
- [ ] エラー時の詳細トレースバック
- [ ] パフォーマンス測定の実行

#### ✅ **ノード操作確認**
- [ ] 展開/折りたたみ操作の記録
- [ ] ノード選択の追跡
- [ ] ツリー構築プロセスの可視化

## 🎯 次期開発での活用方針

### **Week 2: ブレークポイント・ステップオーバー機能**

現在の展開可能ツリー機能が完成したので、次はNEXT_PHASE_PLAN.mdの**Week 2**の実装に移ります。

#### 📅 **実装予定機能**
1. **DebugController基盤作成** (Day 5-7)
2. **ブレークポイント機能実装** (Day 8-10)  
3. **ステップ実行機能実装** (Day 11-12)
4. **デバッグUI統合・テスト** (Day 13-14)

#### 🔍 **ログ活用での開発方針**
- デバッグコントローラーの初期化ログ
- ブレークポイント設定/削除の記録
- ステップ実行の詳細トレース
- デバッグセッション状態の追跡

## 🛠️ 開発中のログ監視コマンド

### **リアルタイムログ監視**
```bash
# 全ログをリアルタイム表示
tail -f tui_debug.log

# エラーのみ監視
tail -f tui_debug.log | grep "❌"

# パフォーマンス警告のみ監視  
tail -f tui_debug.log | grep "🐌"

# 特定カテゴリのみ監視
tail -f tui_debug.log | grep "\[UI:"
tail -f tui_debug.log | grep "\[EVAL:"
tail -f tui_debug.log | grep "\[NODE:"
```

### **ログレベル動的変更**
TUI内で`D`キーを押してログレベルを調整：
- **TRACE**: 最詳細（全操作記録）
- **DEBUG**: 開発用（主要操作記録）  
- **INFO**: 通常運用（重要な情報のみ）
- **ERROR**: 問題発生時のみ

## 📊 品質確保のためのログチェック

### **実装完了前の確認事項**
1. **エラーログゼロ**: 正常動作時にエラーログが出ていないか
2. **パフォーマンス警告**: 🐌マークの処理を最適化
3. **ログの一貫性**: 操作開始→実行→完了のログが揃っているか
4. **例外ハンドリング**: 想定外エラー時の適切なログ出力

### **継続的な品質改善**
- ログから使用パターンを分析
- 頻繁なエラーの根本原因特定
- パフォーマンスボトルネックの継続監視
- ユーザビリティ改善のためのログデータ活用

---

**これで開発中のログ活用体制が整いました！次の機能実装から、常にログを確認しながら品質の高い開発を進めていきましょう。** 🎯